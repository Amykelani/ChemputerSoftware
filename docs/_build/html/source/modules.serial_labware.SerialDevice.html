

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>modules.serial_labware.SerialDevice package &mdash; Chempiler 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Chempiler
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">modules.serial_labware.SerialDevice package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-modules.serial_labware.SerialDevice.serial_labware">modules.serial_labware.SerialDevice.serial_labware module</a><ul>
<li><a class="reference internal" href="#mod-serial-labware-generic-base-class-for-communicating-with-lab-equipment-via-serial-connection">:mod:”serial_labware” – Generic base class for communicating with lab equipment via serial connection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-modules.serial_labware.SerialDevice">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Chempiler</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>modules.serial_labware.SerialDevice package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/modules.serial_labware.SerialDevice.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modules-serial-labware-serialdevice-package">
<h1>modules.serial_labware.SerialDevice package<a class="headerlink" href="#modules-serial-labware-serialdevice-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-modules.serial_labware.SerialDevice.serial_labware">
<span id="modules-serial-labware-serialdevice-serial-labware-module"></span><h2>modules.serial_labware.SerialDevice.serial_labware module<a class="headerlink" href="#module-modules.serial_labware.SerialDevice.serial_labware" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mod-serial-labware-generic-base-class-for-communicating-with-lab-equipment-via-serial-connection">
<h3>:mod:”serial_labware” – Generic base class for communicating with lab equipment via serial connection<a class="headerlink" href="#mod-serial-labware-generic-base-class-for-communicating-with-lab-equipment-via-serial-connection" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-serial_labware"></span><ol class="loweralpha simple" start="3">
<li>2017 The Cronin Group, University of Glasgow</li>
</ol>
<p>This provides a generic python class for safe serial communication
with various lab equipment over serial interfaces (RS232, RS485, USB)
by sending command strings. This parent class handles establishing
a connection as well as sending and receiving commands.
Based on code originally developed by Stefan Glatzel.</p>
<p>For style guide used see <a class="reference external" href="http://xkcd.com/1513/">http://xkcd.com/1513/</a></p>
<dl class="class">
<dt id="modules.serial_labware.SerialDevice.serial_labware.SerialDevice">
<em class="property">class </em><code class="descclassname">modules.serial_labware.SerialDevice.serial_labware.</code><code class="descname">SerialDevice</code><span class="sig-paren">(</span><em>port=None</em>, <em>device_name=None</em>, <em>soft_fail_for_testing=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/modules/serial_labware/SerialDevice/serial_labware.html#SerialDevice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.serial_labware.SerialDevice.serial_labware.SerialDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This is a generic parent class handling serial communication with lab equipment. It provides
methods for opening and closing connections as well as a keepalive. It works by spawning a
daemon thread which periodically checks a queue for commands. If no commands are enqueued,
a keepalive method is executed periodically. Replies are put in their own reply queue where
they can be retrieved at any time.</p>
<dl class="method">
<dt id="modules.serial_labware.SerialDevice.serial_labware.SerialDevice.close_connection">
<code class="descname">close_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/modules/serial_labware/SerialDevice/serial_labware.html#SerialDevice.close_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.serial_labware.SerialDevice.serial_labware.SerialDevice.close_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to close the serial connection if one is open.</p>
</dd></dl>

<dl class="method">
<dt id="modules.serial_labware.SerialDevice.serial_labware.SerialDevice.keepalive">
<code class="descname">keepalive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/modules/serial_labware/SerialDevice/serial_labware.html#SerialDevice.keepalive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.serial_labware.SerialDevice.serial_labware.SerialDevice.keepalive" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy keepalive method. This is just a stand-in for whatever keepalive operation needs to be performed
on the device, meant to be overridden in the actual child class.</p>
</dd></dl>

<dl class="method">
<dt id="modules.serial_labware.SerialDevice.serial_labware.SerialDevice.launch_command_handler">
<code class="descname">launch_command_handler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/modules/serial_labware/SerialDevice/serial_labware.html#SerialDevice.launch_command_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.serial_labware.SerialDevice.serial_labware.SerialDevice.launch_command_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="modules.serial_labware.SerialDevice.serial_labware.SerialDevice.non_blocking_wait">
<code class="descname">non_blocking_wait</code><span class="sig-paren">(</span><em>callback</em>, <em>interval</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/modules/serial_labware/SerialDevice/serial_labware.html#SerialDevice.non_blocking_wait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.serial_labware.SerialDevice.serial_labware.SerialDevice.non_blocking_wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple non-blocking wait function crafted after the Arduino Blink Without Delay example. Checks whether the
time elapsed since the last callback is greater than or equal to the interval. If so, the callback method
is returned and the time updated.
:param callback: function or method to be executed
:param int interval: wait time in seconds
:return: callback if interval has elapsed, None otherwise</p>
</dd></dl>

<dl class="method">
<dt id="modules.serial_labware.SerialDevice.serial_labware.SerialDevice.open_connection">
<code class="descname">open_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/modules/serial_labware/SerialDevice/serial_labware.html#SerialDevice.open_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.serial_labware.SerialDevice.serial_labware.SerialDevice.open_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the serial connection to the device.
If a connection is already open it is closed and then a connection is re-established with the current settings</p>
</dd></dl>

<dl class="method">
<dt id="modules.serial_labware.SerialDevice.serial_labware.SerialDevice.send_message">
<code class="descname">send_message</code><span class="sig-paren">(</span><em>message</em>, <em>get_return=False</em>, <em>return_pattern=None</em>, <em>multiline=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/modules/serial_labware/SerialDevice/serial_labware.html#SerialDevice.send_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.serial_labware.SerialDevice.serial_labware.SerialDevice.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for sending messages to the device. This method needs to be publicly accessible, otherwise
child classes can’t use it. This method does not do a consistency check on the arguments passed to it,
since they may vary wildly. Therefore such a check must be performed before calling send_message!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The message string. No checks are performed on the message and it is just passed on</li>
<li><strong>get_return</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Are you expecting a return message?</li>
<li><strong>return_pattern</strong> (<em>_sre.SRE_Pattern</em>) – Passes on a regex pattern to check the returned message against</li>
<li><strong>multiline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Are you expecting a return message spanning multiple lines?
(not evaluated if get_return is False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(conditional)
- returns “True” if no message is expected back
- does a call back to “__receive_message” and passes on “the return pattern”
- returns -1 if send message fails</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="modules.serial_labware.SerialDevice.serial_labware.command">
<code class="descclassname">modules.serial_labware.SerialDevice.serial_labware.</code><code class="descname">command</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/modules/serial_labware/SerialDevice/serial_labware.html#command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#modules.serial_labware.SerialDevice.serial_labware.command" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for command_set execution. Checks if the method is called in the same thread as the class instance,
if so enqueues the command_set and waits for a reply in the reply queue. Else it concludes it must be the command
handler thread and actually executes the method. This way methods in the child classes need to be written
just once and decorated accordingly.
:return: decorated method</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-modules.serial_labware.SerialDevice">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-modules.serial_labware.SerialDevice" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Sebastian Steiner; Graham Keenan; Jakob Wolf; Jaroslaw Granda.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>